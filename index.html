<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>TODO Tutorial App</title>
    <link rel="stylesheet/less" type="text/css" href="css/style.less">
    <script>less = { env: "development" };</script>
    <script src="bower_components/less.js/dist/less.js"></script>
    <link rel="icon" href="images/favicon.png">

    <!-- Force HTML4 (hash-based) routing -->
    <script>window.History = { options: { html4Mode: true } };</script>
  </head>

  <body>
    <!-- new 'MainRouter' declaration -->
    <router module="MainRouter">
      <viewModel module="Header">
        <header>
          <div class="title">Things To Do...</div>

          <!-- display the loggedInUser and the Logout button if we have a value for it -->
          <div data-bind="if: loggedInUser">
            <!-- display the user name -->
            <span class="username" data-bind="text: loggedInUser"></span>

            <!-- new $route bound link -->
            <a href="/" data-bind="$route" class="logout button">Logout</a>
          </div>
        </header>
      </viewModel>
      <main>
        <!-- HTML replaced with <outlet> -->
        <outlet name="mainView"></outlet>
      </main>
    </router>
    <script src="bower_components/requirejs/require.js" data-main="scripts/app"></script>
  </body>
</html>